# Testing and Coverage {#dev-tests}

Tests are an extremely important part of the project. We want to ensure that we don't have regressions and that the functionality we say to have is implemented correctly.

We use [doctest](https://github.com/onqtam/doctest/tree/1.2.9) for testing. It is very similar to Catch2, but compiles about 5 bazillion times faster. You can find the tests within the `tests/` folder of every library or program. Tests are organized in a tree to match the source file tree. Filenames correspond to the filenames of the things they are testing. However if it makes more sense to break up a single source file's tests into multiple test files, you can do so. Put all of the test files in a folder with the same name as the source file. For example `libparsers/src/util.cpp` has the entire `libparsers/tests/util/` directory for testing its various functions.

We do code coverage analysis. We aim for 80% code coverage at any one time. You can view our code coverage on [codecov.io](https://codecov.io/gh/BVE-Reborn/bve-reborn). This all being said, we aren't religious about code coverage. You don't need to have 80% code coverage to have enough tests. What matters is that you are actually testing the functionality well. It goes the other way as well. If you have 99% code coverage but the tests don't actually cover all the functionality that your functions offer, you haven't tested enough. I repeat. **You must test functionality, not lines of code!** The rules about code coverage percentage is to make sure that we keep up with testing things. 

The actual tests should be in a "test suite" called `library - folder - filename`. You may add subfolders in the middle of that name as well. Each test should be named as follows `library - folder - filename - thing - what you're testing thing for`. Remember that test names shouldn't be long sentences "check if return value is accurate". They should be short and as concise as possible "return value". "Check if" and "is accurate" are redundant because it's a test, that's what all tests do :). 